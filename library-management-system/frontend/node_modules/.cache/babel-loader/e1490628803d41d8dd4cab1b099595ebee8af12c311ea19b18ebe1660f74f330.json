{"ast":null,"code":"// src/services/bookService.js\nimport axios from \"axios\";\nimport api from \"./axiosInstance\";\nconst API_URL = \"http://localhost:5000/api/books\";\n\n/**\r\n * Get paginated books with optional search & category\r\n */\nexport const getBooks = async (page = 1, perPage = 6, search = \"\", category = \"\") => {\n  try {\n    const response = await axios.get(API_URL, {\n      params: {\n        page,\n        per_page: perPage,\n        search: search || undefined,\n        category: category || undefined\n      }\n    });\n\n    // ðŸ”‘ Backend already returns price_per_day inside book object\n    return response.data; // { books, total, pages, current_page }\n  } catch (error) {\n    console.error(\"Error fetching books:\", error);\n    return {\n      books: [],\n      total: 0,\n      pages: 1,\n      current_page: 1\n    };\n  }\n};\n\n/**\r\n * Get single book by ID\r\n */\nexport const getBookById = async id => {\n  const response = await api.get(`/books/${id}`);\n  return response.data; // contains price_per_day\n};\n\n/**\r\n * Add new book (ADMIN)\r\n */\nexport const addBook = async bookData => {\n  return api.post(\"/books\", {\n    ...bookData,\n    price_per_day: bookData.price_per_day // âœ… important\n  });\n};\n\n/**\r\n * Update book (ADMIN)\r\n */\nexport const updateBook = async (bookId, bookData) => {\n  return api.put(`/admin/books/${bookId}`, {\n    ...bookData,\n    price_per_day: bookData.price_per_day // âœ… important\n  });\n};\n\n/**\r\n * Delete book (ADMIN)\r\n */\nexport const deleteBook = async bookId => {\n  return api.delete(`/admin/books/${bookId}`);\n};\n\n/**\r\n * Get categories with counts\r\n */\nexport const getCategories = async () => {\n  const response = await axios.get(`${API_URL}/categories`);\n  return response.data;\n};\n\n/**\r\n * Get featured authors\r\n */\nexport const getFeaturedAuthors = async (limit = 6) => {\n  const response = await axios.get(`${API_URL}/featured-authors`, {\n    params: {\n      limit\n    }\n  });\n  return response.data;\n};","map":{"version":3,"names":["axios","api","API_URL","getBooks","page","perPage","search","category","response","get","params","per_page","undefined","data","error","console","books","total","pages","current_page","getBookById","id","addBook","bookData","post","price_per_day","updateBook","bookId","put","deleteBook","delete","getCategories","getFeaturedAuthors","limit"],"sources":["D:/library-management-system/frontend/src/services/bookService.js"],"sourcesContent":["// src/services/bookService.js\r\nimport axios from \"axios\";\r\nimport api from \"./axiosInstance\";\r\n\r\nconst API_URL = \"http://localhost:5000/api/books\";\r\n\r\n/**\r\n * Get paginated books with optional search & category\r\n */\r\nexport const getBooks = async (\r\n  page = 1,\r\n  perPage = 6,\r\n  search = \"\",\r\n  category = \"\"\r\n) => {\r\n  try {\r\n    const response = await axios.get(API_URL, {\r\n      params: {\r\n        page,\r\n        per_page: perPage,\r\n        search: search || undefined,\r\n        category: category || undefined,\r\n      },\r\n    });\r\n\r\n    // ðŸ”‘ Backend already returns price_per_day inside book object\r\n    return response.data; // { books, total, pages, current_page }\r\n  } catch (error) {\r\n    console.error(\"Error fetching books:\", error);\r\n    return { books: [], total: 0, pages: 1, current_page: 1 };\r\n  }\r\n};\r\n\r\n/**\r\n * Get single book by ID\r\n */\r\nexport const getBookById = async (id) => {\r\n  const response = await api.get(`/books/${id}`);\r\n  return response.data; // contains price_per_day\r\n};\r\n\r\n/**\r\n * Add new book (ADMIN)\r\n */\r\nexport const addBook = async (bookData) => {\r\n  return api.post(\"/books\", {\r\n    ...bookData,\r\n    price_per_day: bookData.price_per_day, // âœ… important\r\n  });\r\n};\r\n\r\n/**\r\n * Update book (ADMIN)\r\n */\r\nexport const updateBook = async (bookId, bookData) => {\r\n  return api.put(`/admin/books/${bookId}`, {\r\n    ...bookData,\r\n    price_per_day: bookData.price_per_day, // âœ… important\r\n  });\r\n};\r\n\r\n/**\r\n * Delete book (ADMIN)\r\n */\r\nexport const deleteBook = async (bookId) => {\r\n  return api.delete(`/admin/books/${bookId}`);\r\n};\r\n\r\n/**\r\n * Get categories with counts\r\n */\r\nexport const getCategories = async () => {\r\n  const response = await axios.get(`${API_URL}/categories`);\r\n  return response.data;\r\n};\r\n\r\n/**\r\n * Get featured authors\r\n */\r\nexport const getFeaturedAuthors = async (limit = 6) => {\r\n  const response = await axios.get(`${API_URL}/featured-authors`, {\r\n    params: { limit },\r\n  });\r\n  return response.data;\r\n};\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,GAAG,MAAM,iBAAiB;AAEjC,MAAMC,OAAO,GAAG,iCAAiC;;AAEjD;AACA;AACA;AACA,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CACtBC,IAAI,GAAG,CAAC,EACRC,OAAO,GAAG,CAAC,EACXC,MAAM,GAAG,EAAE,EACXC,QAAQ,GAAG,EAAE,KACV;EACH,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAACP,OAAO,EAAE;MACxCQ,MAAM,EAAE;QACNN,IAAI;QACJO,QAAQ,EAAEN,OAAO;QACjBC,MAAM,EAAEA,MAAM,IAAIM,SAAS;QAC3BL,QAAQ,EAAEA,QAAQ,IAAIK;MACxB;IACF,CAAC,CAAC;;IAEF;IACA,OAAOJ,QAAQ,CAACK,IAAI,CAAC,CAAC;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,OAAO;MAAEE,KAAK,EAAE,EAAE;MAAEC,KAAK,EAAE,CAAC;MAAEC,KAAK,EAAE,CAAC;MAAEC,YAAY,EAAE;IAAE,CAAC;EAC3D;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMC,WAAW,GAAG,MAAOC,EAAE,IAAK;EACvC,MAAMb,QAAQ,GAAG,MAAMP,GAAG,CAACQ,GAAG,CAAC,UAAUY,EAAE,EAAE,CAAC;EAC9C,OAAOb,QAAQ,CAACK,IAAI,CAAC,CAAC;AACxB,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMS,OAAO,GAAG,MAAOC,QAAQ,IAAK;EACzC,OAAOtB,GAAG,CAACuB,IAAI,CAAC,QAAQ,EAAE;IACxB,GAAGD,QAAQ;IACXE,aAAa,EAAEF,QAAQ,CAACE,aAAa,CAAE;EACzC,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMC,UAAU,GAAG,MAAAA,CAAOC,MAAM,EAAEJ,QAAQ,KAAK;EACpD,OAAOtB,GAAG,CAAC2B,GAAG,CAAC,gBAAgBD,MAAM,EAAE,EAAE;IACvC,GAAGJ,QAAQ;IACXE,aAAa,EAAEF,QAAQ,CAACE,aAAa,CAAE;EACzC,CAAC,CAAC;AACJ,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMI,UAAU,GAAG,MAAOF,MAAM,IAAK;EAC1C,OAAO1B,GAAG,CAAC6B,MAAM,CAAC,gBAAgBH,MAAM,EAAE,CAAC;AAC7C,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMI,aAAa,GAAG,MAAAA,CAAA,KAAY;EACvC,MAAMvB,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,GAAGP,OAAO,aAAa,CAAC;EACzD,OAAOM,QAAQ,CAACK,IAAI;AACtB,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMmB,kBAAkB,GAAG,MAAAA,CAAOC,KAAK,GAAG,CAAC,KAAK;EACrD,MAAMzB,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,GAAGP,OAAO,mBAAmB,EAAE;IAC9DQ,MAAM,EAAE;MAAEuB;IAAM;EAClB,CAAC,CAAC;EACF,OAAOzB,QAAQ,CAACK,IAAI;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}